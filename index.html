<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>영웅전설: 가가브 트릴로지</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-37K1C9W7BK"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-37K1C9W7BK');
    </script>
    <script src="https://cdn.jsdelivr.net/npm/tsparticles@2.11.1/tsparticles.bundle.min.js"></script>
	<style>
	    body {
	        font-family: 'Roboto', sans-serif;
	        background-color: #121212;
	        max-width: 1200px;
	        margin: 0 auto;
	        padding: 30px 20px;
	        color: #e0e0e0;
	        position: relative;
	        overflow-y: scroll;
	    }
	    h1 {
	        text-align: center;
	        margin-bottom: 30px;
	        font-family: 'Poppins', sans-serif;
	        font-size: 2.5em;
	        color: #ff4081;
	        text-shadow: 2px 2px 4px rgba(255,255,255,0.2);
	        position: relative;
	        z-index: 1;
	    }
	    .character-grid {
	        display: grid;
	        grid-template-columns: repeat(auto-fill, minmax(120px,1fr));
	        gap: 20px;
	        margin-bottom: 30px;
	        position: relative;
	        z-index: 1;
	    }
	    .character-box {
	        background: rgba(26,26,26,0.2);
	        border: none;
	        padding: 15px;
	        text-align: center;
	        display: flex;
	        flex-direction: column;
	        align-items: center;
	        cursor: pointer;
	        transition: transform 0.3s, box-shadow 0.3s, background-color 0.3s, z-index 0s 0.3s;
	        position: relative;
	        height: 160px;
	        border-radius: 15px;
	        box-shadow: 0 4px 12px rgba(0,0,0,0.7);
	        backdrop-filter: blur(5px);
	        z-index: 1;
	    }
	    .character-box.rare {
	        border: 2px solid #ff9800;
	        box-shadow: 0 0 15px rgba(255,152,0,0.5), 0 4px 12px rgba(255,152,0,0.7);
	    }
	    .character-box.super-rare {
	        border: 2px solid #D32F2F;
	        box-shadow: 0 0 15px rgba(211, 47, 47, 0.5), 0 4px 12px rgba(211, 47, 47, 0.7);
	    }
	    .character-box.selected {
	        background-color: rgba(255,64,129,0.9);
	        box-shadow: 0 0 20px rgba(255,64,129,0.7), 0 8px 20px rgba(255,64,129,0.8);
	        transform: translateY(-5px);
	        z-index: 2;
	    }
	    .character-box::after {
	        content: "";
	        position: absolute;
	        top: 0; left: 0; width: 100%; height: 100%;
	        background: url('https://www.transparenttextures.com/patterns/gplay.png') repeat;
	        opacity: 0.5;
	        border-radius: 15px;
	        pointer-events: none;
	        z-index: 0;
	    }
	    .character-box > * {
	        position: relative;
	        z-index: 1;
	    }
	    @media (hover: hover) and (pointer: fine) {
	        .character-box:hover {
	            transform: scale(1.05);
	            box-shadow: 0 6px 20px rgba(255,255,255,0.2);
	            z-index: 10;
	        }
	        .result-item:hover {
	            background: linear-gradient(135deg, #33363d, #2a2c30);
	            box-shadow: 0 6px 25px rgba(0,0,0,0.7), 0 0 10px rgba(255, 64, 129, 0.4);
	            transform: translateY(-3px);
	            border-color: rgba(255, 64, 129, 0.5);
	        }
	        .result-item:hover::before {
	            opacity: 1;
	        }
	        .extras-box:hover {
	            background: rgba(176, 176, 176, 0.2);
	            border-color: rgba(176, 176, 176, 0.8);
	        }
	    }
	    .character-img {
	        width: 80px;
	        height: 90px;
	        object-fit: cover;
	        margin-bottom: 10px;
	        border-radius: 10px;
	        transition: transform 0.3s;
	    }
	    .character-name {
	        font-size: 16px;
	        margin-bottom: 10px;
	        font-weight: 700;
	        color: #fff;
	    }
	    .spinbox-container {
	        width: 80%;
	        visibility: hidden;
	        opacity: 0;
	        transition: visibility 0.3s, opacity 0.3s, transform 0.3s;
	        justify-content: center;
	        margin-top: -5px;
	        transform: translateY(-10px);
	    }
	    .character-box.selected .spinbox-container {
	        visibility: visible;
	        opacity: 1;
		    transform: translateY(0);
	    }
	    .spinbox-container input[type="number"] {
	        width: 50px;
	        padding: 5px;
	        border: 1px solid #555;
	        border-radius: 8px;
	        text-align: center;
	        font-size: 14px;
	        background-color: #1e1e1e;
	        color: #e0e0e0;
	    }
	    .spinbox-container input[type="number"]:focus {
	        border-color: #ff4081;
	        box-shadow: 0 0 5px rgba(255,64,129,0.5);
	        outline: none;
	    }
	    #filterButton {
	        display: flex;
	        align-items: center;
	        justify-content: center;
	        width: 100%;
	        padding: 15px;
	        margin: 25px 0;
	        font-size: 18px;
	        cursor: pointer;
	        background: linear-gradient(45deg, #ff4081, #f50057);
	        color: #fff;
	        border: none;
	        border-radius: 30px;
	        box-shadow: 0 4px 16px rgba(255,64,129,0.6);
	        transition: background 0.3s, box-shadow 0.3s, transform 0.3s;
	        font-family: 'Poppins', sans-serif;
	        font-weight: 600;
	    }
	    #copyInstruction {
	        margin-bottom: 15px;
	        font-style: italic;
	        color: #ff4081;
	        text-align: center;
	        font-size: 1.2em;
	        font-weight: 600;
	    }
	    #copyMessage {
	        position: fixed;
	        top: 50%;
	        left: 50%;
	        transform: translate(-50%, -50%) scale(0.8);
	        background-color: rgba(0,0,0,0.8);
	        color: #fff;
	        padding: 20px 30px;
	        border-radius: 12px;
	        display: none;
	        opacity: 0;
	        font-family: 'Poppins', sans-serif;
	        font-size: 1.1em;
	        box-shadow: 0 8px 20px rgba(0,0,0,0.5);
	        z-index: 1000;
	        transition: opacity 0.3s ease, transform 0.3s ease;
	    }
	    #copyMessage.show {
	        display: block;
	        opacity: 1;
	        transform: translate(-50%, -50%) scale(1);
	    }
	    #results {
	        padding: 20px;
	        height: 800px;
	        max-height: 800px;
	        overflow-y: auto;
	        background-color: rgba(20,20,20,0.8);
	        border-radius: 15px;
	        box-shadow: inset 0 0 10px rgba(0,0,0,0.5);
	        contain: strict;
	        transform: translateZ(0);
	    }
	    #results.filtering .content-container {
	        opacity: 0;
	    }
	    .result-item {
	        margin-bottom: 18px; /* [크기 조정] */
	        padding: 15px 24px; /* [크기 조정] */
	        background: linear-gradient(135deg, #202228, #1a1c20);
	        cursor: pointer;
	        transition: background 0.3s, box-shadow 0.3s, transform 0.2s;
	        border-radius: 12px;
	        border: 1px solid rgba(255, 255, 255, 0.1);
	        box-shadow: 0 4px 20px rgba(0,0,0,0.5), inset 0 1px 2px rgba(0,0,0,0.4);
	        display: flex;
	        align-items: center;
	        justify-content: space-between;
	        flex-wrap: nowrap;
	        gap: 15px;
	        position: relative;
	        overflow: hidden;
	    }
	    .result-item::before {
	        content: '';
	        position: absolute;
	        top: 0;
	        left: 0;
	        width: 4px;
	        height: 100%;
	        background: linear-gradient(180deg, #ff4081, #f50057);
	        opacity: 0.6;
	        transition: opacity 0.3s;
	    }
	    .item-images-wrapper { 
	        flex-grow: 1; 
	        position: relative; 
	        overflow: hidden; 
	        display: flex;
	    }
	    .item-images {
	        display: flex;
	        align-items: center;
	        flex-wrap: nowrap;
	        gap: 10px; /* [크기 조정] */
	        overflow-x: auto;
	        padding: 5px 0;
	        margin: -5px 0;
	        scrollbar-width: none;
	    }
	    .item-images::-webkit-scrollbar {
	        display: none;
	    }
	
	    .result-info-right {
	        display: flex;
	        align-items: center;
	        flex-shrink: 0;
	    }
	
	    .small-character-img {
	        height: 60px; /* [크기 조정] */
	        width: auto;
	        object-fit: contain;
	        border-radius: 8px;
	        border: 1px solid rgba(255, 255, 255, 0.1);
	    }
	    .small-character-img.rare {
	        border: 2px solid #ff9800;
	        box-shadow: 0 0 8px rgba(255,152,0,0.6);
	    }
	    .small-character-img.super-rare {
	        border: 2px solid #D32F2F;
	        box-shadow: 0 0 8px rgba(211, 47, 47, 0.6);
	    }
	    .image-with-count-container {
	        position: relative;
	        display: inline-block;
	        vertical-align: middle;
	        flex-shrink: 0;
	    }
	    .image-count-badge {
	        position: absolute;
	        bottom: -5px; /* [크기 조정] */
	        right: -5px; /* [크기 조정] */
	        min-width: 20px; /* [크기 조정] */
	        text-align: center;
	        background: rgba(0, 0, 0, 0.75);
	        backdrop-filter: blur(4px);
	        color: #fff;
	        padding: 2px 7px; /* [크기 조정] */
	        border-radius: 9px; /* [크기 조정] */
	        font-family: 'Poppins', sans-serif;
	        font-size: 14px; /* [크기 조정] */
	        font-weight: 600;
	        line-height: 1.4;
	        border: 1px solid rgba(255, 255, 255, 0.1);
	        box-shadow: 0 2px 5px rgba(0,0,0,0.6); 
	        pointer-events: none;
	    }
	    .image-count-badge.rare-badge {
	        color: #ffc107;
	        text-shadow: 0 0 5px rgba(255, 193, 7, 0.7);
	    }
	    .image-count-badge.super-rare-badge {
	        color: #ff5252;
	        text-shadow: 0 0 5px rgba(255, 82, 82, 0.7);
	    }
	    .item-box {
	        display: inline-flex;
	        flex-direction: column;
	        justify-content: center;
	        align-items: center;
	        width: 70px;
	        height: 60px;
	        background: linear-gradient(145deg, #4d3e00, #332a00);
	        border: 2px solid #ffc107;
	        box-shadow: 0 0 10px rgba(255, 193, 7, 0.6), 0 2px 4px rgba(0,0,0,0.3), inset 0 0 5px rgba(255, 215, 0, 0.2);
	        border-radius: 10px;
	        flex-shrink: 0;
	    }
	    .item-box .item-title {
	        color: #ffc107;
	        font-size: 14px;
	        font-weight: bold;
	        text-shadow: 1px 1px 2px #000;
	        margin-bottom: 4px;
	    }
	    .item-box .item-count {
	        color: #fff;
	        font-size: 12px;
	        font-weight: 600;
	    }
	    .price-box {
	        display: flex;
	        flex-direction: column;
	        justify-content: center;
	        align-items: flex-end;
	        height: 60px; /* [크기 조정] */
	        min-width: 110px; /* [크기 조정] */
	        padding: 0 10px;
	        background: linear-gradient(270deg, rgba(255, 82, 82, 0.2), transparent); /* 수정됨 */
	        border-radius: 8px;
	        font-family: 'Poppins', sans-serif;
	        line-height: 1.3; /* [크기 조정] */
	    }
	    .price-box .original-price {
	        font-size: 14px; /* [크기 조정] */
	        color: #aaa;
	        text-decoration: line-through;
	    }
	    .price-box .price-krw {
	        font-size: 20px; /* [크기 조정] */
	        font-weight: 700;
	        color: #ff5252; /* 수정됨 */
	        text-shadow: 0 0 8px rgba(255, 82, 82, 0.6); /* 수정됨 */
	    }
	
	    .scroll-indicator {
	        position: absolute;
	        top: 50%;
	        right: 15px; 
	        transform: translateY(-50%);
	        width: 28px;
	        height: 28px;
	        background: linear-gradient(135deg, rgba(40,40,40,0.8), rgba(20,20,20,0.8));
	        backdrop-filter: blur(5px);
	        border: 1px solid rgba(255,255,255,0.2);
	        color: #fff;
	        border-radius: 50%;
	        display: none; 
	        align-items: center;
	        justify-content: center;
	        font-size: 18px;
	        line-height: 28px;
	        font-weight: bold;
	        cursor: pointer;
	        z-index: 10;
	        transition: opacity 0.2s;
	        text-shadow: 0 0 4px rgba(0,0,0,0.5);
	    }
	    .item-images-wrapper.has-scroll .scroll-indicator {
	        display: flex;
	    }
	    .item-images-wrapper.scrolled-to-end .scroll-indicator {
	        opacity: 0;
	        pointer-events: none;
	    }
	    .item-images-wrapper.has-scroll::after {
	        content: '';
	        position: absolute;
	        top: 0;
	        right: 0;
	        width: 70px;
	        height: 100%;
	        background: linear-gradient(to right, rgba(26, 28, 32, 0), #1a1c20 80%);
	        pointer-events: none;
	        z-index: 5;
	        transition: opacity 0.3s;
	        opacity: 1;
	    }
	    .item-images-wrapper.scrolled-to-end::after {
	        opacity: 0;
	    }
	
	    #tsparticles {
	        position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;
	    }
	    #loader {
	        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
	        background-color: rgba(18,18,18,0.95);
	        display: flex; align-items: center; justify-content: center; flex-direction: column;
	        z-index: 2000; transition: opacity 0.5s ease, visibility 0.5s ease;
	    }
	    #loader.hidden { opacity: 0; visibility: hidden; }
	    .spinner {
	        border: 8px solid #f3f3f3; border-top: 8px solid #ff4081; border-radius: 50%;
	        width: 60px; height: 60px; animation: spin 1s linear infinite; margin-bottom: 20px;
	    }
	    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
	    
	    #budgetContainer {
	        display: flex; justify-content: center; margin-bottom: 30px;
	    }
	    .budget-box {
	        width: 300px; height: 60px; padding: 10px 20px;
	        display: flex; flex-direction: row; justify-content: center; align-items: center;
	        margin-bottom: 20px; transition: all 0.2s ease; cursor: pointer;
	        border: 1px solid rgba(255,255,255,0.1);
	    }
	    .budget-box:hover { border-color: rgba(255,64,129,0.4); }
	    .budget-text { font-size: 18px; margin: 0; transition: all 0.2s ease; white-space: nowrap; color: #e0e0e0; }
	    .budget-box.selected { justify-content: space-between; border-color: rgba(255,64,129,0.6); }
	    .budget-text-container { display: flex; align-items: center; gap: 8px; position: relative; }
	    .tooltip-content {
	        position: absolute; top: 100%; left: 50%; transform: translateX(-50%);
	        background: rgba(0, 0, 0, 0.9); padding: 12px 16px; border-radius: 8px;
	        font-size: 14px; color: #fff; width: 280px; text-align: center;
	        pointer-events: none; opacity: 0; visibility: hidden; transition: all 0.2s ease;
	        z-index: 100; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
	        border: 1px solid rgba(255, 64, 129, 0.3); margin-top: 10px;
	    }
	    .budget-box.selected .tooltip-content { opacity: 1; visibility: visible; }
	    .budget-input-wrapper { display: none; align-items: center; opacity: 0; transition: all 0.2s ease; }
	    .budget-box.selected .budget-input-wrapper { display: flex; opacity: 1; }
	    .budget-input-container { display: flex; align-items: center; }
	    .budget-input-container input[type="number"] {
	        width: 120px; padding: 8px 12px; font-size: 16px; border-radius: 8px;
	        border: 1px solid rgba(255,255,255,0.2); background-color: rgba(0,0,0,0.2); color: #fff;
	    }
	    .budget-input-container input[type="number"]:focus { border-color: #ff4081; outline: none; }
	    .budget-unit { color: #e0e0e0; margin-left: 8px; font-size: 16px; }
	
	    .extras-box {
	        display: flex;
	        justify-content: center;
	        align-items: center;
	        height: 60px; /* [크기 조정] */
	        min-width: 80px; /* [크기 조정] */
	        padding: 0 10px;
	        background: rgba(176, 176, 176, 0.1);
	        border: 1px dashed rgba(176, 176, 176, 0.5);
	        border-radius: 8px;
	        cursor: pointer;
	        transition: background 0.2s, border-color 0.2s;
	        flex-shrink: 0;
	    }
	    .extras-box .item-title {
	        color: #e0e0e0;
	        font-size: 15px; /* [크기 조정] */
	        text-decoration: none;
	        font-weight: bold;
	    }
	    #extrasPopup {
	        display: none; position: fixed; z-index: 4000; left: 0; top: 0;
	        width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.7);
	        align-items: center; justify-content: center;
	    }
	    .extras-popup-content {
	        background-color: #1e1e1e; padding: 25px; border: 2px solid #b0b0b0;
	        border-radius: 15px; width: 80%; max-width: 700px; box-shadow: 0 5px 25px rgba(0,0,0,0.7);
	        position: relative;
	    }
	    .close-button {
	        color: #aaa; position: absolute; top: 10px; right: 15px;
	        font-size: 28px; font-weight: bold; cursor: pointer;
	    }
	    .close-button:hover, .close-button:focus { color: #fff; }
	    #extras-popup-grid {
	        display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; padding-top: 10px;
	    }

        /* TMI 공지사항 스타일 */
        #tmiAnnouncement {
            display: none; /* 초기에는 숨김 */
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            z-index: 5000;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            padding: 20px;
            box-sizing: border-box;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.5s ease, visibility 0.5s ease;
        }

        #tmiAnnouncement.show {
            opacity: 1;
            visibility: visible;
        }

        .tmi-content {
            background: linear-gradient(145deg, #202228, #1a1c20);
            border: 2px solid #ff4081;
            border-radius: 15px;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            text-align: center;
            box-shadow: 0 8px 30px rgba(255, 64, 129, 0.5);
            position: relative;
        }

        .tmi-title {
            font-family: 'Poppins', sans-serif;
            font-size: 2.2em;
            color: #ff4081;
            margin-bottom: 20px;
            text-shadow: 1px 1px 5px rgba(255, 255, 255, 0.3);
        }

        .tmi-text {
            font-size: 1.1em;
            color: #e0e0e0;
            line-height: 1.6;
            margin-bottom: 25px;
            white-space: pre-wrap; /* 줄 바꿈 유지 */
        }

        .tmi-close-button {
            background: linear-gradient(45deg, #ff4081, #f50057);
            color: #fff;
            border: none;
            border-radius: 25px;
            padding: 12px 30px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.3s, transform 0.2s;
            box-shadow: 0 4px 15px rgba(255, 64, 129, 0.6);
        }

        .tmi-close-button:hover {
            transform: translateY(-2px);
            background: linear-gradient(45deg, #f50057, #ff4081);
        }

	    @media (max-width: 768px) {
	        .character-grid { grid-template-columns: repeat(auto-fill, minmax(80px,1fr)); gap: 10px; }
	        .character-box { height: 125px; padding: 8px; }
	        .character-box .character-img { width: 60px; height: 70px; margin-bottom: 5px; }
	        .character-box .character-name { font-size: 14px; }
	        .spinbox-container input[type="number"] { width: 45px; }
	        #filterButton { font-size: 16px; padding: 12px; }
	        
	        .result-item { flex-wrap: wrap; padding: 12px 15px; } /* [크기 조정] */
	        .item-images-wrapper { flex-basis: 100%; }
	        .item-images { flex-basis: 100%; }
	        .result-info-right { flex-basis: 100%; justify-content: flex-end; }
	        .price-box, .extras-box { flex-grow: 1; justify-content: center;}
	        .price-box { align-items: center; }
	        .small-character-img, .price-box, .extras-box { height: 52px; } /* [크기 조정] */
	        .item-images { gap: 8px; } /* [크기 조정] */
	
	        #copyInstruction { font-size: 1em; }
	        #copyMessage { font-size: 1em; padding: 15px 20px; }
	        .item-box { width: 55px; height: 52px; } /* [크기 조정] */
	        .item-box .item-title { font-size: 10px; margin-bottom: 0; }
